# –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

**CloudCastle HTTP Router v1.1.0**  
**–Ø–∑—ã–∫**: –†—É—Å—Å–∫–∏–π

---

**–ü–µ—Ä–µ–≤–æ–¥—ã**: [English](../../en/documentation/performance.md) | [Deutsch](../../de/documentation/performance.md) | [Fran√ßais](../../fr/documentation/performance.md)

---

## ‚ö° –û–±–∑–æ—Ä –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

CloudCastle HTTP Router –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤.

## üìä –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| **–°–∫–æ—Ä–æ—Å—Ç—å** | 50,000+ –∑–∞–ø—Ä–æ—Å–æ–≤/—Å–µ–∫ |
| **–ü–∞–º—è—Ç—å** | ~2MB –Ω–∞ 1000 –º–∞—Ä—à—Ä—É—Ç–æ–≤ |
| **–õ–∞—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å** | <1ms –Ω–∞ –º–∞—Ä—à—Ä—É—Ç |
| **–ü–æ–∏—Å–∫** | O(1) –¥–ª—è –ø—Ä—è–º—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤ |
| **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** | Linear scaling |

## –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### 1. RouteCollection —Å –∏–Ω–¥–µ–∫—Å–∞–º–∏

```php
// O(1) –ø–æ–∏—Å–∫ –¥–ª—è —Ç–æ—á–Ω—ã—Ö URI
Route::get('/exact-path', fn() => 'fast');

// –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–∏—Å–∫ –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤
Route::get('/user/{id}', fn($id) => "User: $id");
```

### 2. –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–æ–≤

```php
// –û–¥–Ω–æ–∫—Ä–∞—Ç–Ω–∞—è –∫–æ–º–ø–∏–ª—è—Ü–∏—è
Route::enableCache(__DIR__ . '/cache');
Route::compile(true);

// –ü–æ—Å–ª–µ–¥—É—é—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∫–µ—à
Route::loadFromCache();
```

### 3. –ö–æ–º–ø–∏–ª—è—Ü–∏—è —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π

–†–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –∫–æ–º–ø–∏–ª–∏—Ä—É—é—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –º–∞—Ä—à—Ä—É—Ç–∞:

```php
Route::get('/user/{id:\d+}', fn($id) => "User: $id");
// Regex —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω –∏ –∑–∞–∫–µ—à–∏—Ä–æ–≤–∞–Ω
```

## –ë–µ–Ω—á–º–∞—Ä–∫–∏

### –ü—Ä–æ—Å—Ç—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã (–±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤)

```
Routes: 1,000
Requests: 10,000
Time: 0.18 —Å–µ–∫
RPS: 55,555
Memory: 2MB
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã

```
Routes: 1,000
Requests: 10,000
Time: 0.25 —Å–µ–∫
RPS: 40,000
Memory: 2.5MB
```

### –° –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º

```
Routes: 10,000
Requests: 100,000
Time: 1.8 —Å–µ–∫
RPS: 55,555
Memory: 18MB
```

## –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞–º–∏

–°–º. [–û—Ç—á—ë—Ç –æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏](../reports/performance.md)

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### 1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ production

```php
if (getenv('APP_ENV') === 'production') {
    Route::enableCache(__DIR__ . '/cache');
    Route::loadFromCache();
}
```

### 2. –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –º–∞—Ä—à—Ä—É—Ç—ã –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ

```php
// –ë–æ–ª–µ–µ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã –†–ê–ù–¨–®–ï
Route::get('/users/special', fn() => 'special');
Route::get('/users/{id}', fn($id) => "User: $id");
```

### 3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≥—Ä—É–ø–ø—ã –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏

```php
Route::group(['prefix' => '/api'], function() {
    // –í—Å–µ API –º–∞—Ä—à—Ä—É—Ç—ã –∑–¥–µ—Å—å
});
```

### 4. –ò–∑–±–µ–≥–∞–π—Ç–µ –ª–∏—à–Ω–∏—Ö middleware

```php
// –ü–ª–æ—Ö–æ - middleware –Ω–∞ –∫–∞–∂–¥–æ–º –º–∞—Ä—à—Ä—É—Ç–µ
Route::get('/a', fn() => 'a')->middleware('log');
Route::get('/b', fn() => 'b')->middleware('log');

// –•–æ—Ä–æ—à–æ - middleware –Ω–∞ –≥—Ä—É–ø–ø–µ
Route::group(['middleware' => 'log'], function() {
    Route::get('/a', fn() => 'a');
    Route::get('/b', fn() => 'b');
});
```

## –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É:

```php
$stats = Route::router()->getRouteStats();

print_r($stats);
/*
[
    'total' => 308,
    'by_method' => ['GET' => 180, 'POST' => 100, ...],
    'named' => 250,
    'tagged' => 150,
    'with_middleware' => 120,
    'with_domain' => 30,
    'with_port' => 15,
    'with_throttle' => 80,
]
*/
```

---

**[‚óÄ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å](security.md)** | **[API Reference ‚ñ∂](api-reference.md)**

