# –û—Ç—á–µ—Ç –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ CloudCastle HTTP Router

[English](../en/SECURITY_REPORT.md) | **–†—É—Å—Å–∫–∏–π** | [Deutsch](../de/SECURITY_REPORT.md) | [Fran√ßais](../fr/SECURITY_REPORT.md) | [‰∏≠Êñá](../zh/SECURITY_REPORT.md)

---

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–†–µ–∑—é–º–µ](#—Ä–µ–∑—é–º–µ)
- [–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏](#—Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã-—Ç–µ—Å—Ç–æ–≤-–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏)
- [–í–µ–∫—Ç–æ—Ä—ã –∞—Ç–∞–∫](#–≤–µ–∫—Ç–æ—Ä—ã-–∞—Ç–∞–∫)
- [–í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –∑–∞—â–∏—Ç–∞](#–≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è-–∑–∞—â–∏—Ç–∞)
- [–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏](#—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏)

---

## –†–µ–∑—é–º–µ

**–°—Ç–∞—Ç—É—Å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:** ‚úÖ –û–¢–õ–ò–ß–ù–û

**–¢–µ—Å—Ç–æ–≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:** 13/13 –ø—Ä–æ–π–¥–µ–Ω–æ  
**–ù–∞–π–¥–µ–Ω–æ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π:** 0  
**–£—Ä–æ–≤–µ–Ω—å –∑–∞—â–∏—Ç—ã:** ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (5/5)

CloudCastle HTTP Router –ø—Ä–æ—à–µ–ª –ø–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä —Ç–µ—Å—Ç–æ–≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –Ω–∞–¥–µ–∂–Ω—É—é –∑–∞—â–∏—Ç—É –æ—Ç –≤—Å–µ—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö –≤–µ–∫—Ç–æ—Ä–æ–≤ –∞—Ç–∞–∫.

---

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- **–í—Å–µ–≥–æ —Ç–µ—Å—Ç–æ–≤:** 13
- **–£—Å–ø–µ—à–Ω–æ:** 13 ‚úÖ
- **–ü—Ä–æ–≤–∞–ª–µ–Ω–æ:** 0
- **–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** 106ms
- **–ü–∞–º—è—Ç—å:** 12 MB

### –î–µ—Ç–∞–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

| # | –¢–µ—Å—Ç | –†–µ–∑—É–ª—å—Ç–∞—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|---|------|-----------|----------|
| 1 | Path Traversal Protection | ‚úÖ PASS | –ó–∞—â–∏—Ç–∞ –æ—Ç –æ–±—Ö–æ–¥–∞ –∫–∞—Ç–∞–ª–æ–≥–æ–≤ |
| 2 | SQL Injection in Parameters | ‚úÖ PASS | –ó–∞—â–∏—Ç–∞ –æ—Ç SQL –∏–Ω—ä–µ–∫—Ü–∏–π |
| 3 | XSS in Route Parameters | ‚úÖ PASS | –ó–∞—â–∏—Ç–∞ –æ—Ç XSS –∞—Ç–∞–∫ |
| 4 | IP Whitelist Security | ‚úÖ PASS | –†–∞–±–æ—Ç–∞ IP whitelist |
| 5 | IP Blacklist Security | ‚úÖ PASS | –†–∞–±–æ—Ç–∞ IP blacklist |
| 6 | IP Spoofing Protection | ‚úÖ PASS | –ó–∞—â–∏—Ç–∞ –æ—Ç –ø–æ–¥–º–µ–Ω—ã IP |
| 7 | Domain Security | ‚úÖ PASS | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ –¥–æ–º–µ–Ω–∞–º |
| 8 | ReDoS Protection | ‚úÖ PASS | –ó–∞—â–∏—Ç–∞ –æ—Ç Regular Expression DoS |
| 9 | Method Override Attack | ‚úÖ PASS | –ó–∞—â–∏—Ç–∞ –æ—Ç –ø–æ–¥–º–µ–Ω—ã HTTP –º–µ—Ç–æ–¥–∞ |
| 10 | Mass Assignment Protection | ‚úÖ PASS | –ó–∞—â–∏—Ç–∞ –æ—Ç mass assignment |
| 11 | Cache Injection | ‚úÖ PASS | –ó–∞—â–∏—Ç–∞ –∫–µ—à–∞ –æ—Ç –∏–Ω—ä–µ–∫—Ü–∏–π |
| 12 | Resource Exhaustion | ‚úÖ PASS | –ó–∞—â–∏—Ç–∞ –æ—Ç –∏—Å—Ç–æ—â–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤ |
| 13 | Unicode Security Issues | ‚úÖ PASS | –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ Unicode |

---

## –í–µ–∫—Ç–æ—Ä—ã –∞—Ç–∞–∫

### 1. Path Traversal (Directory Traversal)

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ø—ã—Ç–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–∞–º –≤–Ω–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —á–µ—Ä–µ–∑ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.

**–¢–µ—Å—Ç–∏—Ä—É–µ–º—ã–µ –≤–µ–∫—Ç–æ—Ä—ã:**
```
/../../../etc/passwd
/./././etc/passwd
/uploads/../../../config/database.php
/..\..\..\windows\system32\config\sam
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –í—Å–µ –ø–æ–ø—ã—Ç–∫–∏ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã

**–ó–∞—â–∏—Ç–∞:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –ø—É—Ç–µ–π
- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –æ–ø–∞—Å–Ω—ã—Ö –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π (../, ./, \\)
- –í–∞–ª–∏–¥–∞—Ü–∏—è URI

### 2. SQL Injection

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ø—ã—Ç–∫–∞ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è SQL –∫–æ–¥–∞ —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –º–∞—Ä—à—Ä—É—Ç–æ–≤.

**–¢–µ—Å—Ç–∏—Ä—É–µ–º—ã–µ –≤–µ–∫—Ç–æ—Ä—ã:**
```
/users/1' OR '1'='1
/users/1; DROP TABLE users--
/users/1 UNION SELECT * FROM passwords
/users/1' AND 1=1--
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ —ç–∫—Ä–∞–Ω–∏—Ä—É—é—Ç—Å—è

**–ó–∞—â–∏—Ç–∞:**
- –≠–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –º–∞—Ä—à—Ä—É—Ç–æ–≤
- –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –≤–≤–æ–¥–∞
- –í–∞–ª–∏–¥–∞—Ü–∏—è —á–µ—Ä–µ–∑ where()

### 3. Cross-Site Scripting (XSS)

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ø—ã—Ç–∫–∞ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è JavaScript –∫–æ–¥–∞.

**–¢–µ—Å—Ç–∏—Ä—É–µ–º—ã–µ –≤–µ–∫—Ç–æ—Ä—ã:**
```
/search/<script>alert('XSS')</script>
/profile/<img src=x onerror=alert(1)>
/page/<svg onload=alert(1)>
/search/<iframe src="javascript:alert('XSS')">
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –û–ø–∞—Å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã —ç–∫—Ä–∞–Ω–∏—Ä—É—é—Ç—Å—è

**–ó–∞—â–∏—Ç–∞:**
- HTML entity encoding
- –≠–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–∞—Å–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤
- Content Security Policy —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

### 4. IP Whitelist/Blacklist

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã IP —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏.

**–°—Ü–µ–Ω–∞—Ä–∏–∏:**
- Whitelist: –¥–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –¥–ª—è 192.168.1.1
- Blacklist: –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ 10.0.0.1
- CIDR –Ω–æ—Ç–∞—Ü–∏—è: 192.168.1.0/24

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**–ó–∞—â–∏—Ç–∞:**
- –¢–æ—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ IP
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ CIDR
- –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ IP

### 5. IP Spoofing

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ø—ã—Ç–∫–∞ –ø–æ–¥–º–µ–Ω—ã —Ä–µ–∞–ª—å–Ω–æ–≥–æ IP —á–µ—Ä–µ–∑ –∑–∞–≥–æ–ª–æ–≤–∫–∏.

**–¢–µ—Å—Ç–∏—Ä—É–µ–º—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏:**
```
X-Forwarded-For: 127.0.0.1, 192.168.1.1, 10.0.0.1
X-Real-IP: 192.168.1.100
Client-IP: 1.2.3.4
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –°–∏—Å—Ç–µ–º–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–π IP

**–ó–∞—â–∏—Ç–∞:**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ X-Forwarded-For
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ IP
- –ó–∞—â–∏—Ç–∞ –æ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö proxy

### 6. Domain Security

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑–æ–ª—è—Ü–∏–∏ –ø–æ –¥–æ–º–µ–Ω–∞–º.

**–°—Ü–µ–Ω–∞—Ä–∏–∏:**
- –ú–∞—Ä—à—Ä—É—Ç —Ç–æ–ª—å–∫–æ –¥–ª—è example.com
- –ü–æ–ø—ã—Ç–∫–∞ –¥–æ—Å—Ç—É–ø–∞ —Å other.com

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –î–æ–º–µ–Ω–Ω–∞—è –∏–∑–æ–ª—è—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç

### 7. ReDoS (Regular Expression DoS)

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ø—ã—Ç–∫–∞ –≤—ã–∑–≤–∞—Ç—å –æ—Ç–∫–∞–∑ –≤ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–∏ —á–µ—Ä–µ–∑ —Å–ª–æ–∂–Ω—ã–µ —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è.

**–¢–µ—Å—Ç–∏—Ä—É–µ–º—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã:**
```
(a+)+b
(a*)*b
(a|a)*b
([a-zA-Z]+)*
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –û–ø–∞—Å–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è

**–ó–∞—â–∏—Ç–∞:**
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç—å regex
- –¢–∞–π–º–∞—É—Ç—ã –¥–ª—è pattern matching
- –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

### 8. Method Override Attack

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ø—ã—Ç–∫–∞ –ø–æ–¥–º–µ–Ω—ã HTTP –º–µ—Ç–æ–¥–∞ —á–µ—Ä–µ–∑ –∑–∞–≥–æ–ª–æ–≤–∫–∏.

**–¢–µ—Å—Ç–∏—Ä—É–µ–º—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏:**
```
X-HTTP-Method-Override: DELETE
X-Method-Override: PUT
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –ü–æ–¥–º–µ–Ω–∞ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è (–µ—Å–ª–∏ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ —è–≤–Ω–æ)

### 9. Mass Assignment

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ø—ã—Ç–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ–ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã—Ö –ø–æ–ª–µ–π —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã.

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –º–∞—Ä—à—Ä—É—Ç–∞ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã –æ—Ç –¥–∞–Ω–Ω—ã—Ö –º–æ–¥–µ–ª–∏

### 10. Cache Injection

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ø—ã—Ç–∫–∞ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω–æ–≥–æ –∫–æ–¥–∞ –≤ –∫–µ—à.

**–¢–µ—Å—Ç–∏—Ä—É–µ–º—ã–µ –≤–µ–∫—Ç–æ—Ä—ã:**
```php
/../cache/routes.php
\0cache\0routes.php
cache/../../../etc/passwd
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –ò–Ω—ä–µ–∫—Ü–∏–∏ –≤ –∫–µ—à –Ω–µ–≤–æ–∑–º–æ–∂–Ω—ã

**–ó–∞—â–∏—Ç–∞:**
- –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—É—Ç–µ–π –∫–µ—à–∞
- –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏

### 11. Resource Exhaustion

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ø—ã—Ç–∫–∞ –∏—Å—á–µ—Ä–ø–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤ —Å–µ—Ä–≤–µ—Ä–∞.

**–°—Ü–µ–Ω–∞—Ä–∏–∏:**
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–≥—Ä–æ–º–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤
- –ì–ª—É–±–æ–∫–∞—è –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å –≥—Ä—É–ø–ø (50+ —É—Ä–æ–≤–Ω–µ–π)
- –û—á–µ–Ω—å –¥–ª–∏–Ω–Ω—ã–µ URI (1980 —Å–∏–º–≤–æ–ª–æ–≤)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –°–∏—Å—Ç–µ–º–∞ —Å—Ç–∞–±–∏–ª—å–Ω–∞ –ø–æ–¥ –Ω–∞–≥—Ä—É–∑–∫–æ–π

**–ó–∞—â–∏—Ç–∞:**
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∞—Ä—à—Ä—É—Ç–æ–≤
- Memory limits
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã

### 12. Unicode Security

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ Unicode —Å–∏–º–≤–æ–ª–æ–≤.

**–¢–µ—Å—Ç–∏—Ä—É–µ–º—ã–µ —Å–ª—É—á–∞–∏:**
```
/users/◊ê
/pages/‰∏≠Êñá
/search/üîç
/test/‚Äã (zero-width space)
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ Unicode –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

## –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –∑–∞—â–∏—Ç–∞

### Rate Limiting

–ó–∞—â–∏—Ç–∞ –æ—Ç DDoS –∏ –±—Ä—É—Ç—Ñ–æ—Ä—Å –∞—Ç–∞–∫:

```php
Route::post('/login', $action)->throttle(10, 1);
Route::get('/api/data', $action)->throttle(60, 1);
```

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –ª–∏–º–∏—Ç—ã
- –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫–Ω–∞
- –ö–∞—Å—Ç–æ–º–Ω—ã–µ –∫–ª—é—á–∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

### Auto-Ban System

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã—Ö IP:

```php
$banManager = new BanManager();
$banManager->enableAutoBan(5); // –ë–∞–Ω –ø–æ—Å–ª–µ 5 –ø–æ–ø—ã—Ç–æ–∫
$banManager->setAutoBanDuration(3600); // –ù–∞ 1 —á–∞—Å
```

### HTTPS Enforcement

–ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ HTTPS:

```php
Route::post('/payment', $action)->https();
```

### IP Filtering

–ö–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞ –ø–æ IP:

```php
// Whitelist
Route::get('/admin', $action)
    ->whitelistIp(['192.168.1.0/24']);

// Blacklist
Route::get('/api', $action)
    ->blacklistIp(['1.2.3.0/24']);
```

---

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è Production

1. **–í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS**
   ```php
   Route::group(['https' => true], function() {
       // –í—Å–µ –º–∞—Ä—à—Ä—É—Ç—ã
   });
   ```

2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ Rate Limiting**
   ```php
   Route::get('/api/*', $action)->throttle(100, 1);
   Route::post('/api/*', $action)->throttle(50, 1);
   ```

3. **–ó–∞—â–∏—Ç–∏—Ç–µ –∞–¥–º–∏–Ω–∫—É**
   ```php
   Route::group([
       'prefix' => '/admin',
       'whitelistIp' => ['–≤–∞—à-–æ—Ñ–∏—Å–Ω—ã–π-IP'],
       'middleware' => ['auth', 'admin'],
       'https' => true
   ], function() {
       // –ê–¥–º–∏–Ω –º–∞—Ä—à—Ä—É—Ç—ã
   });
   ```

4. **–í–∫–ª—é—á–∏—Ç–µ Auto-Ban**
   ```php
   $banManager->enableAutoBan(5);
   $banManager->setAutoBanDuration(3600);
   ```

5. **–í–∞–ª–∏–¥–∏—Ä—É–π—Ç–µ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ**
   ```php
   Route::get('/users/{id}', $action)
       ->where('id', '[0-9]+');
   ```

6. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ middleware**
   ```php
   $router->middleware([
       CorsMiddleware::class,
       SecurityLogger::class,
       SsrfProtection::class
   ]);
   ```

### Security Checklist

–ü–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º –≤ production:

- [ ] HTTPS –≤–∫–ª—é—á–µ–Ω –¥–ª—è –≤—Å–µ—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤
- [ ] Rate Limiting –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –≤—Å–µ—Ö –ø—É–±–ª–∏—á–Ω—ã—Ö endpoints
- [ ] IP —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –¥–ª—è –∞–¥–º–∏–Ω–∫–∏
- [ ] –í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤–∞–ª–∏–¥–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ where()
- [ ] Middleware –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –Ω–∞ –∑–∞—â–∏—â–µ–Ω–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–∞—Ö
- [ ] Auto-Ban —Å–∏—Å—Ç–µ–º–∞ –≤–∫–ª—é—á–µ–Ω–∞
- [ ] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- [ ] Debug —Ä–µ–∂–∏–º –≤—ã–∫–ª—é—á–µ–Ω
- [ ] –ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ .env
- [ ] –†–µ–≥—É–ª—è—Ä–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

---

## –ö–æ–Ω—Ç–∞–∫—Ç—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

**–î–ª—è —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± —É—è–∑–≤–∏–º–æ—Å—Ç—è—Ö:**

- Email: zorinalexey59292@gmail.com
- –¢–µ–º–∞: `[SECURITY] –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã`
- Telegram: @CloudCastle85

**–ù–ï —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –ø—É–±–ª–∏—á–Ω—ã–µ GitHub issues –¥–ª—è —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π!**

–ü–æ–¥—Ä–æ–±–Ω–µ–µ: [SECURITY.md](../../SECURITY.md)

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

CloudCastle HTTP Router –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç **–æ—Ç–ª–∏—á–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏**:

‚úÖ 13/13 —Ç–µ—Å—Ç–æ–≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –ø—Ä–æ–π–¥–µ–Ω–æ  
‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç –≤—Å–µ—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö –≤–µ–∫—Ç–æ—Ä–æ–≤ –∞—Ç–∞–∫  
‚úÖ –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –º–µ—Ä—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏–∑ –∫–æ—Ä–æ–±–∫–∏  
‚úÖ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≤ production  

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–∞ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ production –ø—Ä–∏ —Å–æ–±–ª—é–¥–µ–Ω–∏–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π.

---

¬© 2024 CloudCastle HTTP Router. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.

