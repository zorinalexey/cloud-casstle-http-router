# Caching Features - –î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è

[English](../../en/features/CACHING_FEATURES.md) | **–†—É—Å—Å–∫–∏–π** | [Deutsch](../../de/features/CACHING_FEATURES.md) | [Fran√ßais](../../fr/features/CACHING_FEATURES.md) | [‰∏≠Êñá](../../zh/features/CACHING_FEATURES.md)

---

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [Route Cache](#route-cache)
- [–ö–æ–º–ø–∏–ª—è—Ü–∏—è –º–∞—Ä—à—Ä—É—Ç–æ–≤](#–∫–æ–º–ø–∏–ª—è—Ü–∏—è-–º–∞—Ä—à—Ä—É—Ç–æ–≤)
- [API –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è](#api-–∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è)
- [–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å](#–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å)
- [–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –∞–Ω–∞–ª–æ–≥–∞–º–∏](#—Å—Ä–∞–≤–Ω–µ–Ω–∏–µ-—Å-–∞–Ω–∞–ª–æ–≥–∞–º–∏)

---

## Route Cache

### –û–ø–∏—Å–∞–Ω–∏–µ

–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤ –¥–ª—è **–º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**.

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```php
// –í–∫–ª—é—á–∏—Ç—å –∫–µ—à
$router->enableCache('/path/to/cache');

// –ö–æ–º–ø–∏–ª—è—Ü–∏—è –∏ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ
$router->compile();

// –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑ –∫–µ—à–∞
$router->loadFromCache();

// –û—á–∏—Å—Ç–∫–∞ –∫–µ—à–∞
$router->clearCache();

// –ü—Ä–æ–≤–µ—Ä–∫–∞
if ($router->isCacheEnabled()) {
    echo "Cache enabled";
}
```

---

## –ö–æ–º–ø–∏–ª—è—Ü–∏—è –º–∞—Ä—à—Ä—É—Ç–æ–≤

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. –í—Å–µ –º–∞—Ä—à—Ä—É—Ç—ã –∫–æ–º–ø–∏–ª–∏—Ä—É—é—Ç—Å—è –≤ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É
2. Regex –ø–∞—Ç—Ç–µ—Ä–Ω—ã –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è
3. –ò–Ω–¥–µ–∫—Å—ã –ø–æ URI –∏ –º–µ—Ç–æ–¥–∞–º —Å–æ–∑–¥–∞—é—Ç—Å—è
4. –í—Å—ë —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –æ–¥–∏–Ω —Ñ–∞–π–ª

```php
$router->get('/users', $action);
$router->get('/users/{id}', $action);
$router->get('/posts/{slug}', $action);

// –ö–æ–º–ø–∏–ª—è—Ü–∏—è
$router->compile();

// –í –∫–µ—à–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è:
// - Regex: /^\/users$/
// - Regex: /^\/users\/([^\/]+)$/
// - Regex: /^\/posts\/([^\/]+)$/
// - –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞
```

### autoCompile()

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–º–ø–∏–ª—è—Ü–∏—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –º–∞—Ä—à—Ä—É—Ç–æ–≤:

```php
$router->enableCache('/var/cache/routes');
$router->autoCompile(); // –ö–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç, –µ—Å–ª–∏ –∫–µ—à —É—Å—Ç–∞—Ä–µ–ª

// –ò–ª–∏ –≤ production
if (!file_exists('/var/cache/routes.cache')) {
    $router->autoCompile();
}
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- ‚úÖ –ö–æ–º–ø–∏–ª—è—Ü–∏—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
- ‚úÖ –£–ø—Ä–æ—â–∞–µ—Ç deployment

---

## API –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è

### –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã

```php
// –í–∫–ª—é—á–∏—Ç—å —Å –ø—É—Ç—ë–º
$router->enableCache('/var/cache/routes');

// –û—Ç–∫–ª—é—á–∏—Ç—å
$router->disableCache();

// –ö–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å –í–°–ï –º–∞—Ä—à—Ä—É—Ç—ã
$router->compile();

// –ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑ –∫–µ—à–∞ (–±—ã—Å—Ç—Ä–æ!)
$router->loadFromCache();

// –û—á–∏—Å—Ç–∏—Ç—å –≤—Å—ë
$router->clearCache();

// –ü—Ä–æ–≤–µ—Ä–∫–∏
$router->isCacheEnabled();  // bool
$router->getCachePath();    // string
```

### –ü—Ä–∏–º–µ—Ä—ã

**Production —Ä–µ–∂–∏–º:**
```php
// bootstrap.php
$router = new Router();

if (file_exists('/var/cache/routes.cache')) {
    // –ó–∞–≥—Ä—É–∂–∞–µ–º –∏–∑ –∫–µ—à–∞ (–±—ã—Å—Ç—Ä–æ)
    $router->enableCache('/var/cache/routes.cache');
    $router->loadFromCache();
} else {
    // –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ - —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º –º–∞—Ä—à—Ä—É—Ç—ã
    require __DIR__ . '/routes.php';
    
    // –ö–æ–º–ø–∏–ª–∏—Ä—É–µ–º –∏ –∫–µ—à–∏—Ä—É–µ–º
    $router->enableCache('/var/cache/routes.cache');
    $router->compile();
}
```

**Development —Ä–µ–∂–∏–º:**
```php
// –ë–µ–∑ –∫–µ—à–∞
$router = new Router();
require __DIR__ . '/routes.php';
```

**–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–µ—à–∞:**
```php
// deploy.php
$router->clearCache();
$router->loadFromCache(); // –ü–µ—Ä–µ–∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
```

---

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –ë–µ–Ω—á–º–∞—Ä–∫–∏

| –†–µ–∂–∏–º | –ó–∞–ø—Ä–æ—Å–æ–≤/—Å–µ–∫ | –í—Ä–µ–º—è (–º—Å) | –£–ª—É—á—à–µ–Ω–∏–µ |
|-------|--------------|-----------|-----------|
| –ë–µ–∑ –∫–µ—à–∞ | 10,000 | 0.100 | - |
| –° –∫–µ—à–µ–º | **100,000** | **0.010** | **10x** |

### –†–µ–∞–ª—å–Ω—ã–µ –∏–∑–º–µ—Ä–µ–Ω–∏—è

```php
// –ë–µ–∑ –∫–µ—à–∞: ~100 –º–∫—Å –Ω–∞ dispatch
$start = microtime(true);
$route = $router->dispatch('/users/123', 'GET');
$time = (microtime(true) - $start) * 1000000;
// ~100 microseconds

// –° –∫–µ—à–µ–º: ~10 –º–∫—Å –Ω–∞ dispatch  
$router->loadFromCache();
$start = microtime(true);
$route = $router->dispatch('/users/123', 'GET');
$time = (microtime(true) - $start) * 1000000;
// ~10 microseconds (10x faster!)
```

---

## –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –∞–Ω–∞–ª–æ–≥–∞–º–∏

| –†–æ—É—Ç–µ—Ä | Route Cache | API | –£–ª—É—á—à–µ–Ω–∏–µ | –û—Ü–µ–Ω–∫–∞ |
|--------|-------------|-----|-----------|--------|
| **CloudCastle** | ‚úÖ | –ü—Ä–æ—Å—Ç–æ–π | **10x** | **‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê** |
| Laravel | ‚úÖ | `route:cache` | 5-10x | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê |
| Symfony | ‚úÖ | `cache:warmup` | 5x | ‚≠ê‚≠ê‚≠ê‚≠ê |
| FastRoute | ‚úÖ | –í—Å—Ç—Ä–æ–µ–Ω | 3-5x | ‚≠ê‚≠ê‚≠ê‚≠ê |
| Slim | ‚ö†Ô∏è | –¢—Ä–µ–±—É–µ—Ç –ø–∞–∫–µ—Ç | 2x | ‚≠ê‚≠ê‚≠ê |

### –î–µ—Ç–∞–ª—å–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ

**CloudCastle:**
```php
‚úÖ –ü—Ä–æ—Å—Ç–æ–π API (4 –º–µ—Ç–æ–¥–∞)
‚úÖ –î–æ 10x —É–ª—É—á—à–µ–Ω–∏–µ
‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è
‚úÖ –ö–æ–º–ø–∞–∫—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç
```

**Laravel:**
```bash
php artisan route:cache  # –°–æ–∑–¥–∞—Ç—å –∫–µ—à
php artisan route:clear  # –û—á–∏—Å—Ç–∏—Ç—å
```

**Symfony:**
```bash
bin/console cache:warmup  # –ü—Ä–æ–≥—Ä–µ—Ç—å –∫–µ—à
bin/console cache:clear   # –û—á–∏—Å—Ç–∏—Ç—å
```

**FastRoute:**
```php
// –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å—Ç—Ä–æ–µ–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
$dispatcher = \FastRoute\cachedDispatcher(function($r) {
    // routes
}, [
    'cacheFile' => '/path/to/cache'
]);
```

**Slim:**
```php
// –¢—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –ø–∞–∫–µ—Ç
use Slim\Cache\RouteCollectorCacheDecorator;
```

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**CloudCastle –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –æ—Ç–ª–∏—á–Ω–æ–µ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ:**

‚úÖ –ü—Ä–æ—Å—Ç–æ–π API (4 –º–µ—Ç–æ–¥–∞)  
‚úÖ –î–æ 10x —É–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏  
‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–º–ø–∏–ª—è—Ü–∏—è  
‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç  

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–µ—à –≤ production!

---

[‚¨Ü –ù–∞–≤–µ—Ä—Ö](#caching-features---–¥–µ—Ç–∞–ª—å–Ω–æ–µ-–æ–ø–∏—Å–∞–Ω–∏–µ-–∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è) | [üìö –í—Å–µ —Ñ–∏—á–∏](../ALL_FEATURES.md) | [üè† –ì–ª–∞–≤–Ω–∞—è](../../../README.md)

¬© 2024 CloudCastle HTTP Router
