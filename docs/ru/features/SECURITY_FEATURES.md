# Security Features - –î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

[English](../../en/features/SECURITY_FEATURES.md) | **–†—É—Å—Å–∫–∏–π** | [Deutsch](../../de/features/SECURITY_FEATURES.md) | [Fran√ßais](../../fr/features/SECURITY_FEATURES.md) | [‰∏≠Êñá](../../zh/features/SECURITY_FEATURES.md)

---

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–í–≤–µ–¥–µ–Ω–∏–µ](#–≤–≤–µ–¥–µ–Ω–∏–µ)
- [Path Traversal Protection](#path-traversal-protection)
- [SQL Injection Protection](#sql-injection-protection)
- [XSS Protection](#xss-protection)
- [IP Filtering](#ip-filtering)
- [HTTPS Enforcement](#https-enforcement)
- [Domain/Port Security](#domainport-security)
- [–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –∞–Ω–∞–ª–æ–≥–∞–º–∏](#—Å—Ä–∞–≤–Ω–µ–Ω–∏–µ-—Å-–∞–Ω–∞–ª–æ–≥–∞–º–∏)

---

## –í–≤–µ–¥–µ–Ω–∏–µ

CloudCastle HTTP Router –≤–∫–ª—é—á–∞–µ—Ç **–∫–æ–º–ø–ª–µ–∫—Å–Ω—É—é —Å–∏—Å—Ç–µ–º—É –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏** —Å –∑–∞—â–∏—Ç–æ–π –æ—Ç 13 —Ç–∏–ø–æ–≤ –∞—Ç–∞–∫ –∏–∑ –∫–æ—Ä–æ–±–∫–∏.

---

## Path Traversal Protection

### –û–ø–∏—Å–∞–Ω–∏–µ

–ó–∞—â–∏—Ç–∞ –æ—Ç –æ–±—Ö–æ–¥–∞ –∫–∞—Ç–∞–ª–æ–≥–æ–≤ —á–µ—Ä–µ–∑ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –≤ URI.

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç

```php
// –û–ø–∞—Å–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è:
// /../../../etc/passwd
// /./././etc/passwd
// /uploads/../../../config/database.php

// –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—á–∏—Å—Ç–∫–∞
$uri = str_replace(['../', './', '\\'], '', $uri);
$uri = preg_replace('#/+#', '/', $uri);
```

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ

| –†–æ—É—Ç–µ—Ä | Path Traversal –∑–∞—â–∏—Ç–∞ | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è | –û—Ü–µ–Ω–∫–∞ |
|--------|----------------------|----------------|--------|
| **CloudCastle** | ‚úÖ **–í—Å—Ç—Ä–æ–µ–Ω–∞** | **‚úÖ –î–∞** | **‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê** |
| Laravel | ‚úÖ –í filesystem | ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ | ‚≠ê‚≠ê‚≠ê‚≠ê |
| Symfony | ‚úÖ –í –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö | ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ | ‚≠ê‚≠ê‚≠ê‚≠ê |
| FastRoute | ‚ùå –ù–µ—Ç | ‚ùå –ù–µ—Ç | ‚≠ê |
| Slim | ‚ùå –ù–µ—Ç | ‚ùå –ù–µ—Ç | ‚≠ê |

**–£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞—â–∏—Ç–∞ –Ω–∞ —É—Ä–æ–≤–Ω–µ —Ä–æ—É—Ç–µ—Ä–∞!

---

## SQL Injection Protection

### –û–ø–∏—Å–∞–Ω–∏–µ

–ó–∞—â–∏—Ç–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –º–∞—Ä—à—Ä—É—Ç–æ–≤ –æ—Ç SQL –∏–Ω—ä–µ–∫—Ü–∏–π.

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```php
// –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã
Route::get('/users/{id}', function($id) {
    // $id —É–∂–µ –æ—á–∏—â–µ–Ω
    return User::find($id);
});

// –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∑–∞—â–∏—Ç–∞ —á–µ—Ä–µ–∑ where()
Route::get('/users/{id}', $action)
    ->where('id', '[0-9]+'); // –¢–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã - SQL injection –Ω–µ–≤–æ–∑–º–æ–∂–Ω–∞
```

### –ó–∞—â–∏—Ç–∞

```php
// –û–ø–∞—Å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è:
// 1' OR '1'='1
// 1; DROP TABLE users--
// 1 UNION SELECT * FROM passwords
```

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ

| –†–æ—É—Ç–µ—Ä | –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ | where() | –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å | –û—Ü–µ–Ω–∫–∞ |
|--------|---------------------|---------|--------------|--------|
| **CloudCastle** | ‚úÖ | ‚úÖ | **–í—ã—Å–æ–∫–∞—è** | **‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê** |
| Laravel | ‚úÖ | ‚úÖ | –í—ã—Å–æ–∫–∞—è | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê |
| Symfony | ‚úÖ | ‚úÖ (requirements) | –í—ã—Å–æ–∫–∞—è | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê |
| FastRoute | ‚ö†Ô∏è | ‚úÖ (inline) | –°—Ä–µ–¥–Ω—è—è | ‚≠ê‚≠ê‚≠ê |
| Slim | ‚ö†Ô∏è | ‚ùå | –ù–∏–∑–∫–∞—è | ‚≠ê‚≠ê |

---

## XSS Protection

### –û–ø–∏—Å–∞–Ω–∏–µ

–ó–∞—â–∏—Ç–∞ –æ—Ç –≤–Ω–µ–¥—Ä–µ–Ω–∏—è JavaScript –∫–æ–¥–∞ —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã.

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç

```php
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
$param = htmlspecialchars($param, ENT_QUOTES, 'UTF-8');
```

### –ë–ª–æ–∫–∏—Ä—É–µ–º—ã–µ –≤–µ–∫—Ç–æ—Ä—ã

```php
// <script>alert('XSS')</script>
// <img src=x onerror=alert(1)>
// <svg onload=alert(1)>
```

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ

| –†–æ—É—Ç–µ—Ä | XSS –∑–∞—â–∏—Ç–∞ —Ä–æ—É—Ç–µ—Ä–∞ | Template –∑–∞—â–∏—Ç–∞ | –û—Ü–µ–Ω–∫–∞ |
|--------|-------------------|-----------------|--------|
| **CloudCastle** | ‚úÖ | **N/A** | **‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê** |
| Laravel | ‚ö†Ô∏è | ‚úÖ Blade | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê |
| Symfony | ‚ö†Ô∏è | ‚úÖ Twig | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê |
| FastRoute | ‚ùå | N/A | ‚≠ê |
| Slim | ‚ùå | N/A | ‚≠ê |

---

## IP Filtering

### Whitelist

–¢–æ–ª—å–∫–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ IP –º–æ–≥—É—Ç –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø:

```php
// –û–¥–∏–Ω IP
Route::get('/admin', $action)
    ->whitelistIp('192.168.1.100');

// –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ IP
Route::get('/admin', $action)
    ->whitelistIp(['192.168.1.100', '192.168.1.101']);

// CIDR –Ω–æ—Ç–∞—Ü–∏—è
Route::get('/admin', $action)
    ->whitelistIp(['192.168.1.0/24', '10.0.0.0/8']);
```

### Blacklist

–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö IP:

```php
Route::get('/api', $action)
    ->blacklistIp(['1.2.3.4', '5.6.7.0/24']);
```

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ

| –†–æ—É—Ç–µ—Ä | IP Filtering | CIDR | API | –û—Ü–µ–Ω–∫–∞ |
|--------|--------------|------|-----|--------|
| **CloudCastle** | ‚úÖ **–í—Å—Ç—Ä–æ–µ–Ω–æ** | ‚úÖ | **->whitelistIp()** | **‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê** |
| Laravel | ‚ö†Ô∏è Middleware | ‚ö†Ô∏è | middleware | ‚≠ê‚≠ê‚≠ê |
| Symfony | ‚ö†Ô∏è Component | ‚úÖ | Config | ‚≠ê‚≠ê‚≠ê |
| FastRoute | ‚ùå –ù–µ—Ç | ‚ùå | - | ‚≠ê |
| Slim | ‚ùå –ù–µ—Ç | ‚ùå | - | ‚≠ê |

**–£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å:** CloudCastle - –æ–¥–∏–Ω –∏–∑ –Ω–µ–º–Ω–æ–≥–∏—Ö —Å–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π IP —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π!

---

## HTTPS Enforcement

### –û–ø–∏—Å–∞–Ω–∏–µ

–ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ HTTPS –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–æ–≤.

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```php
// –¢—Ä–µ–±–æ–≤–∞—Ç—å HTTPS
Route::post('/payment', $action)->https();

// –ò–ª–∏ —á–µ—Ä–µ–∑ secure() (–∞–ª–∏–∞—Å)
Route::post('/payment', $action)->secure();

// –î–ª—è –≥—Ä—É–ø–ø—ã
Route::group(['https' => true], function() {
    Route::post('/login', $action);
    Route::post('/register', $action);
});
```

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ

| –†–æ—É—Ç–µ—Ä | HTTPS enforcement | API | –û—Ü–µ–Ω–∫–∞ |
|--------|-------------------|-----|--------|
| **CloudCastle** | ‚úÖ | **->https()** | **‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê** |
| Laravel | ‚úÖ | middleware | ‚≠ê‚≠ê‚≠ê‚≠ê |
| Symfony | ‚úÖ | schemes | ‚≠ê‚≠ê‚≠ê‚≠ê |
| FastRoute | ‚ùå | - | ‚≠ê |
| Slim | ‚ùå | - | ‚≠ê |

**–ü–ª—é—Å—ã:**
- ‚úÖ –ü—Ä–æ—Å—Ç–æ–π –º–µ—Ç–æ–¥
- ‚úÖ –ù–∞ —É—Ä–æ–≤–Ω–µ –º–∞—Ä—à—Ä—É—Ç–∞
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

---

## Domain/Port Security

### Domain Isolation

–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –ø–æ –¥–æ–º–µ–Ω—É:

```php
Route::group(['domain' => 'api.example.com'], function() {
    Route::get('/users', $action);
});

// –ò–ª–∏ –Ω–∞ –º–∞—Ä—à—Ä—É—Ç–µ
Route::get('/api/data', $action)
    ->domain('api.example.com');
```

### Port Isolation

–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ –ø–æ—Ä—Ç—É:

```php
// –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –ø–æ—Ä—Ç–∞—Ö
Route::group(['port' => 8081], function() {
    Route::get('/users', $action); // User service
});

Route::group(['port' => 8082], function() {
    Route::get('/products', $action); // Product service
});
```

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ

| –†–æ—É—Ç–µ—Ä | Domain routing | Port routing | –û—Ü–µ–Ω–∫–∞ |
|--------|----------------|--------------|--------|
| **CloudCastle** | ‚úÖ | ‚úÖ **–£–Ω–∏–∫–∞–ª—å–Ω–æ!** | **‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê** |
| Laravel | ‚úÖ | ‚ùå | ‚≠ê‚≠ê‚≠ê‚≠ê |
| Symfony | ‚úÖ | ‚ùå | ‚≠ê‚≠ê‚≠ê‚≠ê |
| FastRoute | ‚ùå | ‚ùå | ‚≠ê |
| Slim | ‚ùå | ‚ùå | ‚≠ê |

**–£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å:** CloudCastle - –ï–î–ò–ù–°–¢–í–ï–ù–ù–´–ô —Å Port routing!

---

## –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –∞–Ω–∞–ª–æ–≥–∞–º–∏

### –û–±—â–∞—è —Ç–∞–±–ª–∏—Ü–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

| –ó–∞—â–∏—Ç–∞ | CloudCastle | Laravel | Symfony | FastRoute | Slim |
|--------|-------------|---------|---------|-----------|------|
| Path Traversal | ‚úÖ | ‚úÖ | ‚úÖ | ‚ùå | ‚ùå |
| SQL Injection | ‚úÖ | ‚úÖ | ‚úÖ | ‚ö†Ô∏è | ‚ö†Ô∏è |
| XSS | ‚úÖ | ‚úÖ | ‚úÖ | ‚ùå | ‚ùå |
| IP Filtering | ‚úÖ | ‚ö†Ô∏è | ‚ö†Ô∏è | ‚ùå | ‚ùå |
| Rate Limiting | ‚úÖ | ‚úÖ | ‚ö†Ô∏è | ‚ùå | ‚ùå |
| Auto-Ban | ‚úÖ | ‚ùå | ‚ùå | ‚ùå | ‚ùå |
| HTTPS Enforcement | ‚úÖ | ‚úÖ | ‚úÖ | ‚ùå | ‚ùå |
| Domain Security | ‚úÖ | ‚úÖ | ‚úÖ | ‚ùå | ‚ùå |
| Port Security | ‚úÖ | ‚ùå | ‚ùå | ‚ùå | ‚ùå |
| ReDoS Protection | ‚úÖ | ‚ö†Ô∏è | ‚ö†Ô∏è | ‚ùå | ‚ùå |
| **–ò–¢–û–ì–û** | **10/10** | **7/10** | **6/10** | **1/10** | **1/10** |
| **–û—Ü–µ–Ω–∫–∞** | **‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê** | **‚≠ê‚≠ê‚≠ê‚≠ê** | **‚≠ê‚≠ê‚≠ê‚≠ê** | **‚≠ê** | **‚≠ê** |

---

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –∑–∞—â–∏—Ç–∞

```php
Route::group([
    'prefix' => '/admin',
    'https' => true,                    // –¢–æ–ª—å–∫–æ HTTPS
    'whitelistIp' => ['192.168.1.0/24'],// –¢–æ–ª—å–∫–æ –æ—Ñ–∏—Å–Ω–∞—è —Å–µ—Ç—å
    'middleware' => ['auth', 'admin'],  // –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
    'throttle' => 50,                   // Rate limiting
    'domain' => 'admin.example.com',    // –û—Ç–¥–µ–ª—å–Ω—ã–π –¥–æ–º–µ–Ω
], function() {
    Route::get('/dashboard', $action);
});
```

### Best Practices

1. **HTTPS –≤–µ–∑–¥–µ –≤ production**
2. **IP filtering –¥–ª—è –∞–¥–º–∏–Ω–∫–∏**
3. **Rate limiting –Ω–∞ –≤—Å–µ—Ö –ø—É–±–ª–∏—á–Ω—ã—Ö endpoints**
4. **where() –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤**
5. **Auto-Ban –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤**

---

[‚¨Ü –ù–∞–≤–µ—Ä—Ö](#security-features---–¥–µ—Ç–∞–ª—å–Ω–æ–µ-–æ–ø–∏—Å–∞–Ω–∏–µ-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π-–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏) | [üìö –í—Å–µ —Ñ–∏—á–∏](../ALL_FEATURES.md) | [üè† –ì–ª–∞–≤–Ω–∞—è](../../../README.md)

---

¬© 2024 CloudCastle HTTP Router. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.
