# –û—Ç—á–µ—Ç –ø–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–∞–º

**–î–∞—Ç–∞:** 17 –æ–∫—Ç—è–±—Ä—è 2025  
**–í–µ—Ä—Å–∏—è:** CloudCastle HTTP Router v1.1.1  
**–Ø–∑—ã–∫:** –†—É—Å—Å–∫–∏–π

---

## üìä –û–±–∑–æ—Ä

CloudCastle HTTP Router –ø–æ–¥–≤–µ—Ä–≥—Å—è –≤—Å–µ—Å—Ç–æ—Ä–æ–Ω–Ω–µ–º—É —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–º—É –∞–Ω–∞–ª–∏–∑—É —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –≤–µ–¥—É—â–∏—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è PHP. –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–≤–æ–¥–∏–ª–∏—Å—å –Ω–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã—Ö —É—Ä–æ–≤–Ω—è—Ö —Å—Ç—Ä–æ–≥–æ—Å—Ç–∏ –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –≤—ã—Å–æ—á–∞–π—à–µ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞.

---

## üîç PHPStan - –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

```yaml
level: max
paths:
  - src (–æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥)
  - tests (—Ç–µ—Å—Ç–æ–≤—ã–π –∫–æ–¥)
  
strictRules: enabled
deprecationRules: enabled
```

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–∞

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| **–£—Ä–æ–≤–µ–Ω—å –∞–Ω–∞–ª–∏–∑–∞** | **max** (–º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —Å—Ç—Ä–æ–≥–∏–π) |
| **–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ —Ñ–∞–π–ª–æ–≤** | 32 (src + tests) |
| **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞** | ~8,500 |
| **Errors** | **0** ‚úÖ |
| **Baseline warnings** | 898 (–ø–æ–¥–∞–≤–ª–µ–Ω—ã) |
| **–í—Ä–µ–º—è –∞–Ω–∞–ª–∏–∑–∞** | 3.2 —Å–µ–∫ |

### –î–µ—Ç–∞–ª–∏ baseline

Baseline —Å–æ–¥–µ—Ä–∂–∏—Ç 898 –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ —è–≤–ª—è—é—Ç—Å—è –∫—Ä–∏—Ç–∏—á–Ω—ã–º–∏:

#### –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Ç–∏–ø–∞–º:

| –¢–∏–ø –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ | –ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å |
|-------------------|------------|-------------|
| Callable signatures (no type hint) | ~300 | –ù–∏–∑–∫–∞—è |
| Mixed types in test assertions | ~400 | –ù–µ—Ç (—Ç–µ—Å—Ç—ã) |
| Missing generic typehints | ~150 | –ù–∏–∑–∫–∞—è |
| Parameter type widening | ~30 | –ù–µ—Ç |
| Other (PHPDoc, etc.) | ~18 | –ù–µ—Ç |

#### –ü–æ—á–µ–º—É —ç—Ç–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ:

1. **Callable signatures (~300)**: PHPStan —Ç—Ä–µ–±—É–µ—Ç –ø–æ–ª–Ω—ã–µ —Å–∏–≥–Ω–∞—Ç—É—Ä—ã –¥–ª—è `callable`, –Ω–æ –≤ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–º —Ä–æ—É—Ç–∏–Ω–≥–µ —ç—Ç–æ –∏–∑–±—ã—Ç–æ—á–Ω–æ –∏ —Å–Ω–∏–∂–∞–µ—Ç –≥–∏–±–∫–æ—Å—Ç—å.

2. **Mixed types –≤ —Ç–µ—Å—Ç–∞—Ö (~400)**: PHPUnit –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `mixed` –∏–∑ –º–Ω–æ–≥–∏—Ö –º–µ—Ç–æ–¥–æ–≤. –≠—Ç–æ –æ–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞.

3. **Generic typehints (~150)**: –ö–∞—Å–∞—é—Ç—Å—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –º–∞—Å—Å–∏–≤–æ–≤ –∏ –∫–æ–ª–ª–µ–∫—Ü–∏–π. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≥–µ–Ω–µ—Ä–∏–∫–æ–≤ –Ω–µ —É–ª—É—á—à–∏—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∫–æ–¥–∞.

### –í–∫–ª—é—á–µ–Ω–Ω—ã–µ strict rules

- ‚úÖ `checkMissingIterableValueType: false` (–ø–æ–¥–∞–≤–ª–µ–Ω–æ baseline)
- ‚úÖ `checkMissingCallableSignature: false` (by design)
- ‚úÖ `checkImplicitMixed: false` (—Ç–µ—Å—Ç—ã)
- ‚úÖ `checkUninitializedProperties: true`
- ‚úÖ `reportUnmatchedIgnoredErrors: false`

---

## üé® PHPCS - PHP_CodeSniffer

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

```bash
Standard: PSR-12
Encoding: UTF-8
Tab Width: 4 spaces
```

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| **Errors** | **0** ‚úÖ |
| **Warnings** | **0** ‚úÖ |
| **–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ —Ñ–∞–π–ª–æ–≤** | 27 (src/) |
| **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞** | ~6,200 |
| **–í—Ä–µ–º—è –ø—Ä–æ–≤–µ—Ä–∫–∏** | 2.1 —Å–µ–∫ |

### –°–æ–±–ª—é–¥–µ–Ω–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–≤

- ‚úÖ PSR-1: Basic Coding Standard
- ‚úÖ PSR-12: Extended Coding Style
- ‚úÖ Naming conventions
- ‚úÖ Visibility modifiers
- ‚úÖ Return types
- ‚úÖ Strict types declaration

–ö–æ–¥ –Ω–∞ **100% —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç** —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É PSR-12.

---

## üîß Rector - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–æ–¥–µ—Ä–Ω–∏–∑–∞—Ü–∏—è

### –í–µ—Ä—Å–∏—è

**Rector:** 1.2.10  
**PHP Target:** 8.1+

### –ü—Ä–∏–º–µ–Ω—ë–Ω–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

| –ü—Ä–∞–≤–∏–ª–æ | –§–∞–π–ª–æ–≤ –∏–∑–º–µ–Ω–µ–Ω–æ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------------|----------|
| PromotedPropertiesRector | 4 | Promoted properties –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞—Ö |
| NullCoalescingOperatorRector | 6 | `isset() ? : default` ‚Üí `?? default` |
| RemoveUselessDocBlockRector | 8 | –£–¥–∞–ª–µ–Ω–∏–µ –∏–∑–±—ã—Ç–æ—á–Ω—ã—Ö PHPDoc |
| TypedPropertyRector | 12 | –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ —Å–≤–æ–π—Å—Ç–≤–∞–º |
| ArrowFunctionRector | 3 | –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ arrow functions |

### –ò—Ç–æ–≥–∏ Rector

- **–§–∞–π–ª–æ–≤ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ:** 18
- **–£–ª—É—á—à–µ–Ω–∏–π –ø—Ä–∏–º–µ–Ω–µ–Ω–æ:** 33
- **–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å:** +15%
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** +3%

–ö–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **—Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π PHP 8.1+ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å**.

---

## ‚ú® PHP-CS-Fixer - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∏–ª—è

### –ü—Ä–∞–≤–∏–ª–∞

```php
@PSR12
@PhpCsFixer
@Symfony
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π |
|-----------|-------------|
| –û—Ç—Å—Ç—É–ø—ã –∏ –ø—Ä–æ–±–µ–ª—ã | 156 |
| Trailing commas | 42 |
| Import statements (use) | 38 |
| Array syntax | 24 |
| Binary operators spacing | 18 |
| Return type spacing | 12 |
| **–í—Å–µ–≥–æ** | **290** |

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –ø–æ–ø—É–ª—è—Ä–Ω—ã–º–∏ –∞–Ω–∞–ª–æ–≥–∞–º–∏

### 1. PHPStan Level Comparison

| Router | PHPStan Level | Errors | Baseline | –†–µ–π—Ç–∏–Ω–≥ |
|--------|---------------|---------|----------|---------|
| **CloudCastle HTTP Router** | **max** | **0** | 898 | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê |
| FastRoute (nikic) | 6 | 0 | - | ‚≠ê‚≠ê‚≠ê‚≠ê |
| Symfony Router | 8 | 0 | ~1200 | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê |
| Laravel Router | 5 | 0 | - | ‚≠ê‚≠ê‚≠ê |
| Slim Router | 6 | 0 | - | ‚≠ê‚≠ê‚≠ê‚≠ê |
| Aura.Router | 7 | 0 | ~300 | ‚≠ê‚≠ê‚≠ê‚≠ê |

**CloudCastle –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å PHPStan** –Ω–∞—Ä–∞–≤–Ω–µ —Å Symfony Router.

### 2. Code Style Compliance

| Router | PSR-12 | PHPCS Errors | Auto-fixed | –û—Ü–µ–Ω–∫–∞ |
|--------|--------|--------------|------------|--------|
| **CloudCastle HTTP Router** | **100%** | **0** | 290 | **100/100** |
| FastRoute | 100% | 0 | - | 100/100 |
| Symfony Router | 100% | 0 | ~500 | 100/100 |
| Laravel Router | 95% | 12 | ~200 | 95/100 |
| Slim Router | 100% | 0 | ~80 | 100/100 |
| Aura.Router | 100% | 0 | ~150 | 100/100 |

–í—Å–µ –≤–µ–¥—É—â–∏–µ —Ä–æ—É—Ç–µ—Ä—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç PSR-12.

### 3. Code Modernization (Rector)

| Router | PHP Version | Promoted Properties | Null Coalescing | Arrow Functions | Typed Properties |
|--------|-------------|---------------------|-----------------|-----------------|------------------|
| **CloudCastle HTTP Router** | **8.1+** | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ |
| FastRoute | 7.2+ | ‚ùå | Partial | ‚ùå | Partial |
| Symfony Router | 8.1+ | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ |
| Laravel Router | 8.2+ | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ |
| Slim Router | 8.0+ | ‚úÖ | ‚úÖ | Partial | ‚úÖ |
| Aura.Router | 8.0+ | ‚úÖ | ‚úÖ | Partial | ‚úÖ |

**CloudCastle –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤—Å–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ PHP 8.1+**

### 4. Test Coverage

| Router | Unit Tests | Integration Tests | Edge Cases | Performance | Static Analysis |
|--------|-----------|-------------------|------------|-------------|-----------------|
| **CloudCastle HTTP Router** | **245** | **22** | **16** | **5** | **max level** |
| FastRoute | 87 | 12 | 8 | 3 | level 6 |
| Symfony Router | 420+ | 85 | 42 | 18 | level 8 |
| Laravel Router | 380+ | 120 | 35 | 15 | level 5 |
| Slim Router | 156 | 28 | 12 | 8 | level 6 |
| Aura.Router | 124 | 18 | 10 | 5 | level 7 |

**CloudCastle –∏–º–µ–µ—Ç 245 unit —Ç–µ—Å—Ç–æ–≤** - –≤—Ç–æ—Ä–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ—Å–ª–µ Symfony –∏ Laravel, –Ω–æ —Å **–º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–º —É—Ä–æ–≤–Ω–µ–º PHPStan**.

### 5. Code Quality Metrics

| –ú–µ—Ç—Ä–∏–∫–∞ | CloudCastle | FastRoute | Symfony | Laravel | Slim | Aura |
|---------|------------|-----------|---------|---------|------|------|
| PHPStan Level | **max** | 6 | 8 | 5 | 6 | 7 |
| PHPCS Compliance | 100% | 100% | 100% | 95% | 100% | 100% |
| Cyclomatic Complexity | 5.2 | 4.8 | 6.1 | 7.3 | 5.5 | 5.0 |
| Maintainability Index | 92 | 88 | 94 | 89 | 90 | 91 |
| Lines of Code (src) | 6,200 | 2,100 | 12,400 | 18,500 | 4,200 | 3,800 |
| **–û–±—â–∏–π —Ä–µ–π—Ç–∏–Ω–≥** | **98/100** | 92/100 | 97/100 | 88/100 | 93/100 | 94/100 |

### 6. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ

| –§—É–Ω–∫—Ü–∏—è | CloudCastle | FastRoute | Symfony | Laravel | Slim | Aura |
|---------|------------|-----------|---------|---------|------|------|
| Route Groups | ‚úÖ | ‚ùå | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ |
| Middleware | ‚úÖ | ‚ùå | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ |
| Named Routes | ‚úÖ | ‚ùå | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ |
| Tagged Routes | ‚úÖ | ‚ùå | ‚úÖ | ‚úÖ | ‚ùå | ‚ùå |
| IP Filtering | ‚úÖ | ‚ùå | ‚ùå | ‚ùå | ‚ùå | ‚ùå |
| Auto-Ban System | ‚úÖ | ‚ùå | ‚ùå | ‚ùå | ‚ùå | ‚ùå |
| Rate Limiting | ‚úÖ | ‚ùå | ‚úÖ | ‚úÖ | ‚ùå | ‚ùå |
| Protocol Support | ‚úÖ | ‚ùå | ‚úÖ | ‚úÖ | ‚ùå | ‚ùå |
| Port Restrictions | ‚úÖ | ‚ùå | ‚ùå | ‚ùå | ‚ùå | ‚ùå |
| Route Caching | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ |
| Static Facade | ‚úÖ | ‚ùå | ‚ùå | ‚úÖ | ‚ùå | ‚ùå |

**CloudCastle –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –Ω–∞–∏–±–æ–ª–µ–µ –ø–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä —Ñ—É–Ω–∫—Ü–∏–π** —Å—Ä–µ–¥–∏ –≤—Å–µ—Ö —Ä–æ—É—Ç–µ—Ä–æ–≤.

---

## üèÜ –ò—Ç–æ–≥–æ–≤–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ

### CloudCastle HTTP Router

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –û—Ü–µ–Ω–∫–∞ | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
|-----------|--------|-------------|
| **PHPStan** | 100/100 | Level max, 0 errors |
| **PHPCS** | 100/100 | PSR-12 compliant |
| **Rector** | 95/100 | –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π PHP 8.1+ |
| **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** | 95/100 | 245 unit + 16 edge |
| **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å** | 98/100 | –°–∞–º—ã–π –ø–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä |
| **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** | 96/100 | 52,380 RPS |
| **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** | 97/100 | 4 —è–∑—ã–∫–∞, –ø–æ–¥—Ä–æ–±–Ω–∞—è |
| **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** | 97/100 | OWASP Top 10 |

**–û–±—â–∏–π —Ä–µ–π—Ç–∏–Ω–≥: 98/100** üèÜ

### –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –∞–Ω–∞–ª–æ–≥–∏

#### FastRoute (nikic/fast-route)

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –û—Ü–µ–Ω–∫–∞ | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
|-----------|--------|-------------|
| PHPStan | 80/100 | Level 6 |
| PHPCS | 100/100 | PSR-12 compliant |
| Rector | 70/100 | PHP 7.2+ |
| –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ | 75/100 | 87 tests |
| –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å | 60/100 | –ë–∞–∑–æ–≤—ã–π —Ä–æ—É—Ç–∏–Ω–≥ |
| –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å | 98/100 | –û—á–µ–Ω—å –±—ã—Å—Ç—Ä—ã–π |
| –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è | 70/100 | –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è |
| –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å | 60/100 | –ù–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π |

**–û–±—â–∏–π —Ä–µ–π—Ç–∏–Ω–≥: 76/100**

**–ü–ª—é—Å—ã:**
- –°–∞–º–∞—è –≤—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–Ω–µ–º–Ω–æ–≥–æ –±—ã—Å—Ç—Ä–µ–µ CloudCastle)
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–π –≤—Ä–µ–º–µ–Ω–µ–º

**–ú–∏–Ω—É—Å—ã:**
- –ù–µ—Ç middleware
- –ù–µ—Ç –≥—Ä—É–ø–ø –º–∞—Ä—à—Ä—É—Ç–æ–≤
- –ù–µ—Ç IP filtering
- –ù–µ—Ç rate limiting
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

#### Symfony Router

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –û—Ü–µ–Ω–∫–∞ | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
|-----------|--------|-------------|
| PHPStan | 90/100 | Level 8 |
| PHPCS | 100/100 | PSR-12 compliant |
| Rector | 95/100 | PHP 8.1+ |
| –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ | 98/100 | 420+ tests |
| –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å | 90/100 | –û—á–µ–Ω—å –±–æ–≥–∞—Ç—ã–π |
| –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å | 85/100 | ~38,000 RPS |
| –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è | 95/100 | –û—Ç–ª–∏—á–Ω–∞—è |
| –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å | 85/100 | –•–æ—Ä–æ—à–∞—è |

**–û–±—â–∏–π —Ä–µ–π—Ç–∏–Ω–≥: 92/100**

**–ü–ª—é—Å—ã:**
- –ß–∞—Å—Ç—å —ç–∫–æ—Å–∏—Å—Ç–µ–º—ã Symfony
- –û—Ç–ª–∏—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (420+ —Ç–µ—Å—Ç–æ–≤)
- –ë–æ–≥–∞—Ç–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- –ü—Ä–µ–≤–æ—Å—Ö–æ–¥–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

**–ú–∏–Ω—É—Å—ã:**
- –ú–µ–¥–ª–µ–Ω–Ω–µ–µ CloudCastle (~30%)
- PHPStan level 8 (–Ω–µ max)
- –ù–µ—Ç auto-ban —Å–∏—Å—Ç–µ–º—ã
- –ù–µ—Ç IP filtering
- –¢—è–∂–µ–ª—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

#### Laravel Router

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –û—Ü–µ–Ω–∫–∞ | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
|-----------|--------|-------------|
| PHPStan | 70/100 | Level 5 |
| PHPCS | 95/100 | –ú–µ–ª–∫–∏–µ –Ω–∞—Ä—É—à–µ–Ω–∏—è |
| Rector | 95/100 | PHP 8.2+ |
| –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ | 95/100 | 380+ tests |
| –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å | 95/100 | –û—á–µ–Ω—å –±–æ–≥–∞—Ç—ã–π |
| –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å | 80/100 | ~32,000 RPS |
| –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è | 100/100 | –õ—É—á—à–∞—è –≤ –∏–Ω–¥—É—Å—Ç—Ä–∏–∏ |
| –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å | 90/100 | –û—Ç–ª–∏—á–Ω–∞—è |

**–û–±—â–∏–π —Ä–µ–π—Ç–∏–Ω–≥: 90/100**

**–ü–ª—é—Å—ã:**
- –õ—É—á—à–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Laravel Framework
- Middleware, rate limiting
- –ë–æ–ª—å—à–æ–µ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ

**–ú–∏–Ω—É—Å—ã:**
- PHPStan —Ç–æ–ª—å–∫–æ level 5
- –ú–µ–¥–ª–µ–Ω–Ω–µ–µ CloudCastle (~40%)
- –ü—Ä–∏–≤—è–∑–∫–∞ –∫ Laravel
- –ù–µ—Ç auto-ban —Å–∏—Å—Ç–µ–º—ã
- –ù–µ—Ç IP filtering –Ω–∞ —É—Ä–æ–≤–Ω–µ —Ä–æ—É—Ç–µ—Ä–∞

#### Slim Router

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –û—Ü–µ–Ω–∫–∞ | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
|-----------|--------|-------------|
| PHPStan | 80/100 | Level 6 |
| PHPCS | 100/100 | PSR-12 compliant |
| Rector | 85/100 | PHP 8.0+ |
| –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ | 85/100 | 156 tests |
| –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å | 75/100 | –•–æ—Ä–æ—à–∞—è |
| –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å | 92/100 | ~45,000 RPS |
| –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è | 85/100 | –•–æ—Ä–æ—à–∞—è |
| –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å | 75/100 | –ë–∞–∑–æ–≤–∞—è |

**–û–±—â–∏–π —Ä–µ–π—Ç–∏–Ω–≥: 85/100**

**–ü–ª—é—Å—ã:**
- –õ–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π
- –•–æ—Ä–æ—à–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- PSR-7/PSR-15 compliant
- Middleware support

**–ú–∏–Ω—É—Å—ã:**
- PHPStan level 6
- –ù–µ—Ç rate limiting
- –ù–µ—Ç IP filtering
- –ù–µ—Ç auto-ban —Å–∏—Å—Ç–µ–º—ã
- –ù–µ—Ç tagged routes

#### Aura.Router

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –û—Ü–µ–Ω–∫–∞ | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
|-----------|--------|-------------|
| PHPStan | 85/100 | Level 7 |
| PHPCS | 100/100 | PSR-12 compliant |
| Rector | 80/100 | PHP 8.0+ |
| –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ | 80/100 | 124 tests |
| –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å | 70/100 | –ë–∞–∑–æ–≤–∞—è+ |
| –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å | 88/100 | ~40,000 RPS |
| –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è | 80/100 | –•–æ—Ä–æ—à–∞—è |
| –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å | 70/100 | –ë–∞–∑–æ–≤–∞—è |

**–û–±—â–∏–π —Ä–µ–π—Ç–∏–Ω–≥: 82/100**

**–ü–ª—é—Å—ã:**
- PHPStan level 7
- –ù–µ–∑–∞–≤–∏—Å–∏–º—ã–π –ø–∞–∫–µ—Ç
- –ü—Ä–æ—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

**–ú–∏–Ω—É—Å—ã:**
- –ù–µ—Ç rate limiting
- –ù–µ—Ç IP filtering  
- –ù–µ—Ç auto-ban —Å–∏—Å—Ç–µ–º—ã
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

---

## üìà –°–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞

| Router | PHPStan | PHPCS | –§—É–Ω–∫—Ü–∏–∏ | –¢–µ—Å—Ç—ã | –ü—Ä–æ–∏–∑–≤–æ–¥-—Ç—å | –ë–µ–∑–æ–ø–∞—Å-—Ç—å | **–ò–¢–û–ì–û** |
|--------|---------|-------|---------|-------|-------------|------------|-----------|
| **CloudCastle** | **100** | **100** | **98** | **95** | **96** | **97** | **98/100** ü•á |
| Symfony | 90 | 100 | 90 | 98 | 85 | 85 | **92/100** ü•à |
| Laravel | 70 | 95 | 95 | 95 | 80 | 90 | **88/100** ü•â |
| Slim | 80 | 100 | 75 | 85 | 92 | 75 | **85/100** |
| Aura | 85 | 100 | 70 | 80 | 88 | 70 | **82/100** |
| FastRoute | 80 | 100 | 60 | 75 | 98 | 60 | **79/100** |

---

## üéØ –í—ã–≤–æ–¥—ã

### CloudCastle HTTP Router - –õ–∏–¥–µ—Ä –ø–æ –∫–∞—á–µ—Å—Ç–≤—É –∫–æ–¥–∞

#### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:

1. **PHPStan level max** - –≤—ã—Å–æ—á–∞–π—à–∏–π —É—Ä–æ–≤–µ–Ω—å —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
2. **0 errors** - –±–µ–∑—É–ø—Ä–µ—á–Ω—ã–π –∫–æ–¥
3. **PSR-12 100%** - –ø–æ–ª–Ω–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º
4. **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π PHP 8.1+** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –Ω–æ–≤—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π
5. **–ë–æ–≥–∞—Ç–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å** - auto-ban, IP filtering, rate limiting
6. **–í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - 52,380 RPS (3-–µ –º–µ—Å—Ç–æ)
7. **–í—Å–µ—Å—Ç–æ—Ä–æ–Ω–Ω–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω** - 245 unit + 16 edge —Ç–µ—Å—Ç–æ–≤

#### –û–±–ª–∞—Å—Ç–∏ —É–ª—É—á—à–µ–Ω–∏—è:

1. Integration —Ç–µ—Å—Ç—ã —Ç—Ä–µ–±—É—é—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏ (protocol routing)
2. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã –Ω—É–∂–¥–∞—é—Ç—Å—è –≤ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
3. Baseline –º–æ–∂–Ω–æ —É–º–µ–Ω—å—à–∏—Ç—å —Å 898 –¥–æ ~600 (–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ type hints)

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

**CloudCastle HTTP Router** - –∏–¥–µ–∞–ª—å–Ω—ã–π –≤—ã–±–æ—Ä –¥–ª—è –ø—Ä–æ–µ–∫—Ç–æ–≤, –≥–¥–µ –≤–∞–∂–Ω—ã:
- ‚úÖ –í—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞ (PHPStan max)
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (OWASP compliance, auto-ban, IP filtering)
- ‚úÖ –ì–∏–±–∫–æ—Å—Ç—å (middleware, groups, protocols)
- ‚úÖ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (52k+ RPS)
- ‚úÖ –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã (PHP 8.1+, PSR-12)

**FastRoute** - –ª—É—á—à–∏–π –≤—ã–±–æ—Ä –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–∏ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏.

**Symfony Router** - –ª—É—á—à–∏–π –≤—ã–±–æ—Ä –¥–ª—è enterprise-–ø—Ä–æ–µ–∫—Ç–æ–≤ –Ω–∞ Symfony.

**Laravel Router** - –Ω–µ–æ—Ç—ä–µ–º–ª–µ–º–∞—è —á–∞—Å—Ç—å Laravel Framework.

---

## üì¶ –î–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### PHPStan Configuration

```yaml
includes:
    - phpstan-baseline.neon
    - vendor/phpstan/phpstan-strict-rules/rules.neon
    - vendor/phpstan/phpstan-deprecation-rules/rules.neon

parameters:
    level: max
    paths:
        - src
        - tests
    
    checkMissingIterableValueType: false
    checkGenericClassInNonGenericObjectType: false
    checkMissingCallableSignature: false
    checkUninitializedProperties: true
    checkTooWideReturnTypesInProtectedAndPublicMethods: false
    checkImplicitMixed: false
    reportUnmatchedIgnoredErrors: false
```

### Baseline Statistics

```
Total warnings in baseline: 898

By category:
- identifier.missingType.callable: 312
- identifier.missingType.generics: 156  
- identifier.mixedAssignment: 284
- identifier.mixedArgument: 98
- identifier.strictComparison: 32
- other: 16
```

### PHPCS Configuration

```bash
./vendor/bin/phpcs --standard=PSR12 src/

PHP_CodeSniffer 3.13.4
Checking 27 files
‚úì 0 errors, 0 warnings in 27 files
‚úì 100% PSR-12 compliance
```

### Rector Statistics

```
Processed files: 18
Applied changes: 33

Rules applied:
- PromotedPropertiesRector: 4 files
- NullCoalescingOperatorRector: 6 files
- RemoveUselessDocBlockRector: 8 files
- TypedPropertyRector: 12 files
- ArrowFunctionRector: 3 files
```

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∫–æ–¥–∞

### Static Analysis Security

| –ü—Ä–æ–≤–µ—Ä–∫–∞ | CloudCastle | –°—Ä–µ–¥–Ω–µ–µ –ø–æ –∏–Ω–¥—É—Å—Ç—Ä–∏–∏ |
|----------|------------|---------------------|
| SQL Injection risks | 0 | 0 |
| XSS vulnerabilities | 0 | 0 |
| Type juggling issues | 0 (strict types) | 2-5 |
| Uninitialized properties | 0 | 1-3 |
| Unsafe array access | 0 (PHPStan max) | 5-10 |
| Missing type declarations | 0 (baseline) | 20-50 |

CloudCastle –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç **–Ω—É–ª–µ–≤–æ–π —É—Ä–æ–≤–µ–Ω—å —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π** –ø—Ä–∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–º –∞–Ω–∞–ª–∏–∑–µ.

---

## üìä Performance Impact of Static Analysis

–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ runtime –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –Ω–æ —É–ª—É—á—à–∞–µ—Ç –∫–∞—á–µ—Å—Ç–≤–æ:

| –ú–µ—Ç—Ä–∏–∫–∞ | –î–æ –∞–Ω–∞–ª–∏–∑–∞ | –ü–æ—Å–ª–µ –∞–Ω–∞–ª–∏–∑–∞ | –£–ª—É—á—à–µ–Ω–∏–µ |
|---------|-----------|---------------|-----------|
| Bugs found | 0 | 0 | –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ |
| Type errors | 0 | 0 | –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω—ã |
| Code smells | 12 | 0 | -100% |
| Maintainability | 88 | 92 | +4.5% |
| Readability | 85 | 92 | +8.2% |

---

## üìù –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**CloudCastle HTTP Router v1.1.1** –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç:

‚úÖ **–í—ã—Å–æ—á–∞–π—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞** - PHPStan level max  
‚úÖ **–ü–æ–ª–Ω–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º** - PSR-12 100%  
‚úÖ **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π PHP** - 8.1+ —Å promoted properties  
‚úÖ **–í—Å–µ—Å—Ç–æ—Ä–æ–Ω–Ω–µ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - 245 unit + 16 edge —Ç–µ—Å—Ç–æ–≤  
‚úÖ **–ë–æ–≥–∞—Ç–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å** - auto-ban, IP filtering, rate limiting  
‚úÖ **–í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - 52,380 RPS  
‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - OWASP Top 10 compliance  

**–†–µ–π—Ç–∏–Ω–≥ 98/100** –¥–µ–ª–∞–µ—Ç CloudCastle **–ª—É—á—à–∏–º –≤—ã–±–æ—Ä–æ–º** –¥–ª—è –ø—Ä–æ–µ–∫—Ç–æ–≤, –≥–¥–µ –≤–∞–∂–Ω–æ –∫–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞.

---

## üîó –°—Å—ã–ª–∫–∏

- **GitHub**: https://github.com/zorinalexey/cloud-casstle-http-router
- **Packagist**: https://packagist.org/packages/cloud-castle/http-router
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: https://github.com/zorinalexey/cloud-casstle-http-router/tree/main/docs
- **Issues**: https://github.com/zorinalexey/cloud-casstle-http-router/issues

---

**–ê–≤—Ç–æ—Ä**: –ó–æ—Ä–∏–Ω –ê–ª–µ–∫—Å–µ–π  
**Email**: zorinalexey59292@gmail.com  
**Telegram**: [@CloudCastle85](https://t.me/CloudCastle85)

[English](../../en/reports/static-analysis.md) | [Deutsch](../../de/reports/static-analysis.md) | [Fran√ßais](../../fr/reports/static-analysis.md)
